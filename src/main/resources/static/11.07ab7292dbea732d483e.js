(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Shwt:function(e,o,i){"use strict";i.r(o),i.d(o,"InventarioModule",function(){return Vo});var t=i("ofXK"),r=i("tyNb"),a=i("eJOa"),n=i("0IaG"),c=i("fXoL"),s=i("QfLv"),b=i("WFk5"),l=i("5eHb"),d=i("3Pt+"),u=i("Obj7"),m=i("Kj3r"),g=i("kmnG"),h=i("qFsG"),p=i("d3UM"),v=i("FKr1");function f(e,o){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"mat-error"),c.Vb(2,"p"),c.Jc(3),c.Ub(),c.Ub(),c.Ub()),2&e){const e=o.$implicit;c.Cb(3),c.Kc(e)}}function V(e,o){if(1&e&&(c.Vb(0,"div"),c.Hc(1,f,4,1,"div",11),c.Ub()),2&e){const e=c.hc(2);c.Cb(1),c.oc("ngForOf",e.mensajesErrorNombre)}}function U(e,o){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"mat-error"),c.Vb(2,"p"),c.Jc(3),c.Ub(),c.Ub(),c.Ub()),2&e){const e=o.$implicit;c.Cb(3),c.Kc(e)}}function C(e,o){if(1&e&&(c.Vb(0,"div"),c.Hc(1,U,4,1,"div",11),c.Ub()),2&e){const e=c.hc(2);c.Cb(1),c.oc("ngForOf",e.mensajesErrorTipoMantenimiento)}}function I(e,o){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"mat-error"),c.Vb(2,"p"),c.Jc(3),c.Ub(),c.Ub(),c.Ub()),2&e){const e=o.$implicit;c.Cb(3),c.Kc(e)}}function _(e,o){if(1&e&&(c.Vb(0,"div"),c.Hc(1,I,4,1,"div",11),c.Ub()),2&e){const e=c.hc(2);c.Cb(1),c.oc("ngForOf",e.mensajesErrorDescripcion)}}const E=function(e,o){return{"is-valid":e,"is-invalid":o}};function j(e,o){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"form",1),c.Vb(2,"div",2),c.Vb(3,"div",3),c.Vb(4,"div",4),c.Vb(5,"mat-form-field"),c.Vb(6,"mat-label"),c.Jc(7,"Nombre t\xe9cnico"),c.Ub(),c.Qb(8,"input",5),c.Vb(9,"mat-hint"),c.Jc(10,"Ingrese un nombre"),c.Ub(),c.Hc(11,V,2,1,"div",0),c.Ub(),c.Ub(),c.Ub(),c.Vb(12,"div",3),c.Vb(13,"div",4),c.Vb(14,"mat-form-field"),c.Vb(15,"mat-label"),c.Jc(16,"Tipo mantenimiento"),c.Ub(),c.Vb(17,"mat-select",6),c.Vb(18,"mat-option",7),c.Jc(19,"Hadware Preventivo"),c.Ub(),c.Vb(20,"mat-option",8),c.Jc(21,"Hadware Correctivo"),c.Ub(),c.Vb(22,"mat-option",8),c.Jc(23,"Software Preventivo"),c.Ub(),c.Vb(24,"mat-option",8),c.Jc(25,"Software Correctivo"),c.Ub(),c.Ub(),c.Vb(26,"mat-hint"),c.Jc(27,"Seleccione un tipo de mantenimiento"),c.Ub(),c.Hc(28,C,2,1,"div",0),c.Ub(),c.Ub(),c.Ub(),c.Vb(29,"div",9),c.Vb(30,"div",4),c.Vb(31,"mat-form-field"),c.Vb(32,"mat-label"),c.Jc(33,"Descripci\xf3n"),c.Ub(),c.Qb(34,"textarea",10),c.Vb(35,"mat-hint"),c.Jc(36,"Ingrese una descripci\xf3n"),c.Ub(),c.Hc(37,_,2,1,"div",0),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.mc(38),c.Ub(),c.Ub()),2&e){const e=c.hc();let o=null,i=null,t=null;c.Cb(1),c.oc("formGroup",e.formularioMantenimiento),c.Cb(7),c.oc("ngClass",c.rc(7,E,0===e.mensajesErrorNombre.length&&(null==e.formularioMantenimiento||null==(o=e.formularioMantenimiento.get("nombre"))?null:o.value),e.mensajesErrorNombre.length>0)),c.Cb(3),c.oc("ngIf",e.mensajesErrorNombre.length>0),c.Cb(6),c.oc("ngClass",c.rc(10,E,0===e.mensajesErrorTipoMantenimiento.length&&(null==e.formularioMantenimiento||null==(i=e.formularioMantenimiento.get("codigo"))?null:i.value),e.mensajesErrorTipoMantenimiento.length>0)),c.Cb(11),c.oc("ngIf",e.mensajesErrorTipoMantenimiento.length>0),c.Cb(6),c.oc("ngClass",c.rc(13,E,0===e.mensajesErrorDescripcion.length&&(null==e.formularioMantenimiento||null==(t=e.formularioMantenimiento.get("descripcion"))?null:t.value),e.mensajesErrorDescripcion.length>0)),c.Cb(3),c.oc("ngIf",e.mensajesErrorDescripcion.length>0)}}const y=["*"];let J=(()=>{class e{constructor(e){this._formBuilder=e,this.formularioValido=!1,this.mensajesErrorNombre=[],this.mensajesErrorTipoMantenimiento=[],this.mensajesErrorDescripcion=[],this._mensajesValidacionNombre=u.e,this._mensajesValidacionTipoMantenimiento=u.g,this._mensajesValidacionDescripcion=u.d,this.subscriptores=[],this.formularioEmitter=new c.o}ngOnInit(){this.iniciarFormulario(),this._escucharFormulario(),this._escucharCampoNombre(),this._escucharCampoTipoMantenimiento(),this._escucharCampoDescripcion()}ngOnDestroy(){this.subscriptores.forEach(e=>e.unsubscribe())}iniciarFormulario(){this.formularioMantenimiento=this._formBuilder.group({nombreTecnico:[this.mantenimiento?this.mantenimiento.nombreTecnico:"",[d.r.required,d.r.minLength(3),d.r.maxLength(100)]],tipoMantenimiento:[this.mantenimiento?this.mantenimiento.tipoMantenimiento:"",[d.r.required,d.r.minLength(3),d.r.maxLength(10)]],descripcion:[this.mantenimiento?this.mantenimiento.descripcion:"",[d.r.required,d.r.minLength(3),d.r.maxLength(250)]]})}_escucharFormulario(){if(this.formularioMantenimiento){const e=this.formularioMantenimiento.valueChanges.subscribe(e=>{var o;console.log("escuchando cambios formulario",e),(null===(o=this.formularioMantenimiento)||void 0===o?void 0:o.valid)?this.formularioEmitter.emit(e):this.formularioEmitter.emit(void 0)});this.subscriptores.push(e)}}_escucharCampoNombre(){var e;const o=null===(e=this.formularioMantenimiento)||void 0===e?void 0:e.get("nombreTecnico"),i=o.valueChanges.pipe(Object(m.a)(1e3)).subscribe(e=>{this._setearMensajesNombre(o)});this.subscriptores.push(i)}_setearMensajesNombre(e){this.mensajesErrorNombre=[],(e.dirty||e.touched)&&e.errors&&(this.mensajesErrorNombre=Object.keys(e.errors).map(e=>this._mensajesValidacionNombre[e]))}_escucharCampoTipoMantenimiento(){var e;const o=null===(e=this.formularioMantenimiento)||void 0===e?void 0:e.get("tipoMantenimiento"),i=o.valueChanges.pipe(Object(m.a)(1e3)).subscribe(e=>{this._setearMensajesTipoMantenimiento(o)});this.subscriptores.push(i)}_setearMensajesTipoMantenimiento(e){this.mensajesErrorTipoMantenimiento=[],(e.dirty||e.touched)&&e.errors&&(this.mensajesErrorTipoMantenimiento=Object.keys(e.errors).map(e=>this._mensajesValidacionTipoMantenimiento[e]))}_escucharCampoDescripcion(){var e;const o=null===(e=this.formularioMantenimiento)||void 0===e?void 0:e.get("descripcion"),i=o.valueChanges.pipe(Object(m.a)(1e3)).subscribe(e=>{this._setearMensajesDescripcion(o)});this.subscriptores.push(i)}_setearMensajesDescripcion(e){this.mensajesErrorDescripcion=[],(e.dirty||e.touched)&&e.errors&&(this.mensajesErrorDescripcion=Object.keys(e.errors).map(e=>this._mensajesValidacionDescripcion[e]))}}return e.\u0275fac=function(o){return new(o||e)(c.Pb(d.c))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-formulario-nuevo-mantenimiento"]],inputs:{mantenimiento:"mantenimiento"},outputs:{formularioEmitter:"formularioEmitter"},ngContentSelectors:y,decls:1,vars:1,consts:[[4,"ngIf"],[1,"example-form",3,"formGroup"],[1,"row"],[1,"col-sm-6","text-center","marginbottom1rem"],[1,"form-group"],["matInput","","placeholder","Luis Lopez","formControlName","nombreTecnico","type","text","aria-describedby","emailHelp",1,"form-control","example-full-width",3,"ngClass"],["formControlName","tipoMantenimiento",3,"ngClass"],["value","one"],["value","two"],[1,"col-sm-12","text-center","marginbottom1rem"],["matInput","","placeholder","Bodega principal","formControlName","descripcion","type","text","aria-describedby","emailHelp",1,"form-control","example-full-width",3,"ngClass"],[4,"ngFor","ngForOf"]],template:function(e,o){1&e&&(c.nc(),c.Hc(0,j,39,16,"div",0)),2&e&&c.oc("ngIf",o.formularioMantenimiento)},directives:[t.l,d.s,d.m,d.g,g.c,g.g,h.a,d.b,d.l,d.f,t.j,g.f,p.a,v.g,t.k,g.b],styles:[""]}),e})();var M=i("bTqV");let S=(()=>{class e{constructor(e,o,i,t,r){this.data=e,this._mantenimientoRestService=o,this._cargandoService=i,this._toastrService=t,this._dialog=r}ngOnInit(){}guardarRegistro(){this._cargandoService.habilitarCargando(),this.data.mantenimiento?(this.mantenimientoACrear.id=this.data.mantenimiento.id,this._mantenimientoRestService.editar(this.mantenimientoACrear,this.data.mantenimiento.id).subscribe(e=>{this._cargandoService.deshabilitarCargando(),this._toastrService.success("Se actualiz\xf3 correctamente"),this._dialog.closeAll()},e=>{console.error({error:e}),this._cargandoService.deshabilitarCargando(),this._toastrService.error("Ocurri\xf3 un error","Error")})):this.mantenimientoACrear&&(this.mantenimientoACrear.articuloInventario={id:this.data.idArticuloInventario},this._mantenimientoRestService.crear(this.mantenimientoACrear).subscribe(e=>{this._cargandoService.deshabilitarCargando(),this._toastrService.success("Se cre\xf3 correctamente"),this._dialog.closeAll()},e=>{console.error({error:e}),this._cargandoService.deshabilitarCargando(),this._toastrService.error("Ocurri\xf3 un error","Error")}))}setearMantenimiento(e){this.mantenimientoACrear=e}}return e.\u0275fac=function(o){return new(o||e)(c.Pb(n.a),c.Pb(s.a),c.Pb(b.a),c.Pb(l.b),c.Pb(n.b))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-modal-nuevo-mantenimiento"]],decls:9,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"mantenimiento","formularioEmitter"],["mat-dialog-actions",""],["mat-button","","mat-raised-button","","color","primary",3,"disabled","click"],["mat-button","","mat-dialog-close","","mat-raised-button","","color","accent"]],template:function(e,o){1&e&&(c.Vb(0,"h1",0),c.Jc(1),c.Ub(),c.Vb(2,"div",1),c.Vb(3,"app-formulario-nuevo-mantenimiento",2),c.dc("formularioEmitter",function(e){return o.setearMantenimiento(e)}),c.Ub(),c.Ub(),c.Vb(4,"div",3),c.Vb(5,"button",4),c.dc("click",function(){return o.guardarRegistro()}),c.Jc(6),c.Ub(),c.Vb(7,"button",5),c.Jc(8,"Cancelar"),c.Ub(),c.Ub()),2&e&&(c.Cb(1),c.Lc("",o.data.mantenimiento?"Editar":"Crear"," Mantenimiento"),c.Cb(2),c.oc("mantenimiento",o.data.mantenimiento),c.Cb(2),c.oc("disabled",!o.mantenimientoACrear),c.Cb(1),c.Kc(o.data.mantenimiento?"Guardar cambios":"Guardar"))},directives:[n.h,n.e,J,n.c,M.a,n.d],styles:[""]}),e})();var x=i("WekK"),D=i("c9Pa"),P=i("wd/R"),w=i("Wp6s"),k=i("nRUH"),B=i("NFeN"),O=i("5EWq"),A=i("7zfz"),N=i("rEr+"),H=i("jIHw"),R=i("Q4Mo"),F=function(e){return e.PR="Por recibir",e.ER="En revisi\xf3n",e.PE="Por entregar",e.EN="Entregado",e.NR="No realizado",e}({});let L=(()=>{class e{transform(e,...o){switch(e){case"PR":return F.PR;case"ER":return F.ER;case"PE":return F.PE;case"EN":return F.EN}}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=c.Ob({name:"estadoMantenimientoPipe",type:e,pure:!0}),e})();function T(e,o){}function q(e,o){if(1&e){const e=c.Wb();c.Vb(0,"button",31),c.dc("click",function(){return c.zc(e),c.hc().abrirModalCrearEditar()}),c.Ub()}}function z(e,o){1&e&&c.Qb(0,"col"),2&e&&c.Eb("col-width col-width-"+o.$implicit.width)}function $(e,o){if(1&e&&(c.Vb(0,"colgroup"),c.Hc(1,z,1,2,"col",32),c.Ub()),2&e){const e=o.$implicit;c.Cb(1),c.oc("ngForOf",e)}}function Q(e,o){if(1&e&&(c.Vb(0,"th"),c.Vb(1,"div",34),c.Vb(2,"div",35),c.Jc(3),c.Ub(),c.Ub(),c.Ub()),2&e){const e=o.$implicit;c.Cb(3),c.Lc(" ",e.header," ")}}function K(e,o){if(1&e&&(c.Vb(0,"tr"),c.Hc(1,Q,4,1,"th",33),c.Ub()),2&e){const e=o.$implicit;c.Cb(1),c.oc("ngForOf",e)}}function G(e,o){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"mat-card"),c.Vb(2,"div",37),c.Vb(3,"div",38),c.Vb(4,"p",39),c.Jc(5),c.Ub(),c.Ub(),c.Vb(6,"div",40),c.Jc(7),c.ic(8,"estadoMantenimientoPipe"),c.Ub(),c.Ub(),c.Vb(9,"mat-card-content"),c.Vb(10,"div",0),c.Vb(11,"div",41),c.Vb(12,"strong"),c.Jc(13,"Informaci\xf3n mantenimiento"),c.Ub(),c.Ub(),c.Vb(14,"div",1),c.Vb(15,"div",0),c.Vb(16,"div",42),c.Vb(17,"strong"),c.Jc(18,"Encargado:"),c.Ub(),c.Jc(19),c.Ub(),c.Vb(20,"div",42),c.Vb(21,"strong"),c.Jc(22,"Descripci\xf3n:"),c.Ub(),c.Jc(23),c.Ub(),c.Vb(24,"div",42),c.Vb(25,"strong"),c.Jc(26,"Fecha ingreso:"),c.Ub(),c.Jc(27),c.ic(28,"date"),c.Ub(),c.Vb(29,"div",42),c.Vb(30,"strong"),c.Jc(31,"Fecha inicia mantenimiento:"),c.Ub(),c.Jc(32),c.ic(33,"date"),c.Ub(),c.Vb(34,"div",43),c.Vb(35,"strong"),c.Jc(36,"Fecha entrega:"),c.Ub(),c.Jc(37),c.ic(38,"date"),c.Ub(),c.Vb(39,"div",43),c.Vb(40,"strong"),c.Jc(41,"Fecha termina mantenimiento:"),c.Ub(),c.Jc(42),c.ic(43,"date"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e){const e=c.hc(2).$implicit;c.Cb(5),c.Lc(" ",e.nombre,""),c.Cb(2),c.Lc(" ",c.jc(8,8,e.estado)," "),c.Cb(12),c.Lc(" ",e.nombreTecnico," "),c.Cb(4),c.Lc(" ",e.descripcion," "),c.Cb(4),c.Lc(" ",c.kc(28,10,null==e?null:e.fechaIngreso,"dd-MM-yyyy")," "),c.Cb(5),c.Lc(" ",c.kc(33,13,null==e?null:e.fechaIniciaMantenimiento,"dd-MM-yyyy")," "),c.Cb(5),c.Lc(" ",c.kc(38,16,null==e?null:e.fechaEntrega,"dd-MM-yyyy")," "),c.Cb(5),c.Lc(" ",c.kc(43,19,null==e?null:e.fechaTerminaMantenimiento,"dd-MM-yyyy")," ")}}function W(e,o){if(1&e){const e=c.Wb();c.Vb(0,"div"),c.Vb(1,"div",22),c.Vb(2,"div",44),c.Vb(3,"div",41),c.Vb(4,"button",21),c.dc("click",function(){c.zc(e);const o=c.hc(2).$implicit;return c.hc().abrirModalCrearEditar(o)}),c.Jc(5," Editar "),c.Ub(),c.Ub(),c.Vb(6,"div",12),c.Vb(7,"div",0),c.Vb(8,"div",1),c.Vb(9,"mat-form-field",13),c.Vb(10,"mat-label"),c.Jc(11,"Seleccione un estado"),c.Ub(),c.Vb(12,"mat-select",14),c.dc("valueChange",function(o){return c.zc(e),c.hc(3).estadoACambiarSeleccionado=o}),c.Vb(13,"mat-option",15),c.Jc(14,"En revision"),c.Ub(),c.Vb(15,"mat-option",16),c.Jc(16,"Por entregar"),c.Ub(),c.Vb(17,"mat-option",17),c.Jc(18,"Entregado"),c.Ub(),c.Vb(19,"mat-option",45),c.Jc(20,"No realizado"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Qb(21,"br"),c.Vb(22,"div",12),c.Vb(23,"button",46),c.dc("click",function(){c.zc(e);const o=c.hc(2).$implicit;return c.hc().actualizarMantenimiento(o)}),c.Jc(24," Actualizar "),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=c.hc(3);c.Cb(12),c.oc("value",e.estadoACambiarSeleccionado),c.Cb(11),c.oc("disabled",!e.estadoACambiarSeleccionado)}}function X(e,o){if(1&e&&(c.Vb(0,"td"),c.Hc(1,G,44,22,"div",36),c.Hc(2,W,25,2,"div",36),c.Ub()),2&e){const e=o.$implicit;c.Cb(1),c.oc("ngIf","nombre"===e.field),c.Cb(1),c.oc("ngIf","id"===e.field)}}function Y(e,o){if(1&e&&(c.Vb(0,"tr"),c.Hc(1,X,3,2,"td",33),c.Ub()),2&e){const e=o.columns;c.Cb(1),c.oc("ngForOf",e)}}function Z(e,o){1&e&&(c.Vb(0,"tr"),c.Vb(1,"td",47),c.Jc(2,"No existen mantenimientos. "),c.Vb(3,"strong"),c.Jc(4,"Click en nuevo"),c.Ub(),c.Jc(5," para crear un nuevo mantenimiento"),c.Ub(),c.Ub())}let ee=(()=>{class e{constructor(e,o,i,t,r){this._dialog=e,this._mantenimientoRestService=o,this._activatedRoute=i,this._cargandoService=t,this._toastrService=r,this.columnasPrimeTable=[{field:"nombre",header:"Nombre",width:"70"},{field:"id",header:"Acciones",width:"30"}],this.filas=a.a.rows,this.mantenimientos=[],this.totalMantenimientos=0,P.locale("es")}ngOnInit(){this.recuperarParametros()}recuperarParametros(){this._activatedRoute.params.subscribe(e=>{this.idArticuloInventario=Number(e.idArticuloInventario),this.cargarDatos()})}cargarDatos(e,o){this._cargandoService.habilitarCargando();let i={skip:e||0,take:o||x.a.take,busqueda:"",articuloInvId:this.idArticuloInventario};""!==this.textoBusqueda&&this.textoBusqueda&&(i.busqueda=this.textoBusqueda),this.busquedaEstado&&(i.estado=this.busquedaEstado),this._mantenimientoRestService.buscar(i).subscribe(e=>{this._cargandoService.deshabilitarCargando(),this.mantenimientos=e.listaObjetos,this.totalMantenimientos=e.cantidadRegistros},e=>{this._cargandoService.deshabilitarCargando(),this._toastrService.error("Ocurri\xf3 un error","Error")})}cargarMasDatos(e){this.cargarDatos(e.first,e.rows)}abrirModalCrearEditar(e){this._dialog.open(S,{data:{mantenimiento:e,idArticuloInventario:this.idArticuloInventario}})}reiniciarArreglo(){this.mantenimientos=[],this.totalMantenimientos=0}actualizarMantenimiento(e){if(this.estadoACambiarSeleccionado){this._cargandoService.habilitarCargando();const o=Object(D.a)(this.mantenimientos,e);let i={};switch(this.estadoACambiarSeleccionado){case"EN":i={estado:"EN",fechaEntrega:P().format("yyyy-MM-DD"),id:e.id};break;case"ER":i={estado:"ER",fechaIniciaMantenimiento:P().format("yyyy-MM-DD"),id:e.id};break;case"PE":i={estado:"PE",fechaTerminaMantenimiento:P().format("yyyy-MM-DD"),id:e.id};break;case"NR":i={estado:"NR",fechaTerminaMantenimiento:P().format("yyyy-MM-DD"),id:e.id}}this._mantenimientoRestService.editar(i,e.id).subscribe(e=>{this._cargandoService.deshabilitarCargando(),this._toastrService.success("Actualizado correctamente","Correcto"),this.mantenimientos[o].estado=this.estadoACambiarSeleccionado,this.cargarDatos()},e=>{this._cargandoService.deshabilitarCargando(),this._toastrService.error("Ocurri\xf3 un error","Error"),console.error("error",e)})}}}return e.\u0275fac=function(o){return new(o||e)(c.Pb(n.b),c.Pb(s.a),c.Pb(r.a),c.Pb(b.a),c.Pb(l.b))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-ruta-mantenimiento-inventario"]],decls:49,vars:13,consts:[[1,"row"],[1,"col-sm-12"],[1,"padding20px"],[3,"mostrarIrAtras","titulo","descripcion","iconoUrl"],[1,"row","mat-elevation-z8","padding20px"],[1,"col-md-10"],[1,"col-sm-8"],["color","accent"],["matInput","","placeholder","Ej: 239",3,"ngModel","ngModelChange"],[1,"form-text"],[1,"icon-small"],[1,"col-sm-4"],[1,"col-sm-12","text-center"],["appearance","fill"],[3,"value","valueChange"],["value","ER"],["value","PE"],["value","EN"],["mat-raised-button","","color","accent",1,"paddingLeftRigh10",3,"click"],[1,"col-md-2"],[1,"paddingTop26px"],["mat-raised-button","","color","primary",3,"click"],[1,"mat-elevation-z8"],["styleClass","p-mb-4"],["pTemplate","left"],["pTemplate","right"],["styleClass","p-datatable-responsive-demo",3,"columns","frozenColumns","value","lazy","paginator","rows","totalRecords","onLazyLoad"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pButton","","pRipple","","label","Nuevo","icon","pi pi-plus",1,"p-button-success","p-mr-2",3,"click"],[3,"class",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-d-flex","p-jc-between","p-ai-center"],[1,"text-center"],[4,"ngIf"],[1,"row","paddinBottom2"],[1,"col-sm-10","text-center"],[1,"titulo-card-centro"],[1,"col-sm-2","text-center","fw-bold"],[1,"col-sm-12","text-center","paddinBottom2"],[1,"col-sm-6","text-center","paddinBottom2"],[1,"col-sm-6","text-center"],[1,"row","padding20px"],["value","NR"],["mat-raised-button","","color","primary",3,"disabled","click"],["colspan","4"]],template:function(e,o){1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"mat-card"),c.Vb(3,"div",2),c.Qb(4,"app-titulo-ruta",3),c.Qb(5,"br"),c.Vb(6,"div",4),c.Vb(7,"div",5),c.Vb(8,"div",0),c.Vb(9,"div",6),c.Vb(10,"mat-form-field",7),c.Vb(11,"mat-label"),c.Jc(12,"Busque por codigo de nombre o c\xf3digo*"),c.Ub(),c.Vb(13,"input",8),c.dc("ngModelChange",function(e){return o.textoBusqueda=e}),c.Ub(),c.Ub(),c.Vb(14,"p",9),c.Vb(15,"mat-icon",10),c.Jc(16,"info"),c.Ub(),c.Jc(17," Puede buscar los departamentos por c\xf3digo o nombre. "),c.Ub(),c.Ub(),c.Vb(18,"div",11),c.Vb(19,"div",12),c.Vb(20,"mat-form-field",13),c.Vb(21,"mat-label"),c.Jc(22,"Seleccione un estado"),c.Ub(),c.Vb(23,"mat-select",14),c.dc("valueChange",function(e){return o.busquedaEstado=e}),c.Vb(24,"mat-option",15),c.Jc(25,"En revision"),c.Ub(),c.Vb(26,"mat-option",16),c.Jc(27,"Por entregar"),c.Ub(),c.Vb(28,"mat-option",17),c.Jc(29,"Entregado"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(30,"button",18),c.dc("click",function(){return o.reiniciarArreglo()})("click",function(){return o.cargarDatos()}),c.Jc(31," Buscar "),c.Vb(32,"mat-icon"),c.Jc(33,"search"),c.Ub(),c.Ub(),c.Ub(),c.Vb(34,"div",19),c.Vb(35,"div",20),c.Vb(36,"button",21),c.dc("click",function(){return o.textoBusqueda=void 0})("click",function(){return o.busquedaEstado=void 0}),c.Vb(37,"mat-icon",10),c.Jc(38,"cleaning_services"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Qb(39,"br"),c.Vb(40,"div",22),c.Vb(41,"p-toolbar",23),c.Hc(42,T,0,0,"ng-template",24),c.Hc(43,q,1,0,"ng-template",25),c.Ub(),c.Vb(44,"p-table",26),c.dc("onLazyLoad",function(e){return o.cargarMasDatos(e)}),c.Hc(45,$,2,1,"ng-template",27),c.Hc(46,K,2,1,"ng-template",28),c.Hc(47,Y,2,1,"ng-template",29),c.Hc(48,Z,6,0,"ng-template",30),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e&&(c.Cb(4),c.oc("mostrarIrAtras",!0)("titulo","Mantenimientos")("descripcion","Maneje los mantenimientos de los articulos de su inventario")("iconoUrl","mantenimiento-web.svg"),c.Cb(9),c.oc("ngModel",o.textoBusqueda),c.Cb(10),c.oc("value",o.busquedaEstado),c.Cb(21),c.oc("columns",o.columnasPrimeTable)("frozenColumns",o.columnasPrimeTable)("value",o.mantenimientos)("lazy",!0)("paginator",!0)("rows",o.filas)("totalRecords",o.totalMantenimientos))},directives:[w.a,k.a,g.c,g.g,h.a,d.b,d.l,d.o,B.a,p.a,v.g,M.a,O.a,A.f,N.a,H.b,R.a,t.k,t.l,w.b],pipes:[L,t.e],styles:[""]}),e})();var oe=i("dCvj");function ie(e,o){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"mat-error"),c.Vb(2,"p"),c.Jc(3),c.Ub(),c.Ub(),c.Ub()),2&e){const e=o.$implicit;c.Cb(3),c.Kc(e)}}function te(e,o){if(1&e&&(c.Vb(0,"div"),c.Hc(1,ie,4,1,"div",10),c.Ub()),2&e){const e=c.hc(2);c.Cb(1),c.oc("ngForOf",e.mensajesErrorNombre)}}function re(e,o){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"mat-error"),c.Vb(2,"p"),c.Jc(3),c.Ub(),c.Ub(),c.Ub()),2&e){const e=o.$implicit;c.Cb(3),c.Kc(e)}}function ae(e,o){if(1&e&&(c.Vb(0,"div"),c.Hc(1,re,4,1,"div",10),c.Ub()),2&e){const e=c.hc(2);c.Cb(1),c.oc("ngForOf",e.mensajesErrorCodigo)}}function ne(e,o){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"mat-error"),c.Vb(2,"p"),c.Jc(3),c.Ub(),c.Ub(),c.Ub()),2&e){const e=o.$implicit;c.Cb(3),c.Kc(e)}}function ce(e,o){if(1&e&&(c.Vb(0,"div"),c.Hc(1,ne,4,1,"div",10),c.Ub()),2&e){const e=c.hc(2);c.Cb(1),c.oc("ngForOf",e.mensajesErrorCodigo)}}function se(e,o){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"mat-error"),c.Vb(2,"p"),c.Jc(3),c.Ub(),c.Ub(),c.Ub()),2&e){const e=o.$implicit;c.Cb(3),c.Kc(e)}}function be(e,o){if(1&e&&(c.Vb(0,"div"),c.Hc(1,se,4,1,"div",10),c.Ub()),2&e){const e=c.hc(2);c.Cb(1),c.oc("ngForOf",e.mensajesErrorDescripcion)}}const le=function(e,o){return{"is-valid":e,"is-invalid":o}};function de(e,o){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"form",1),c.Vb(2,"div",2),c.Vb(3,"div",3),c.Vb(4,"div",4),c.Vb(5,"mat-form-field"),c.Vb(6,"mat-label"),c.Jc(7,"Nombre"),c.Ub(),c.Qb(8,"input",5),c.Vb(9,"mat-hint"),c.Jc(10,"Ingrese un nombre"),c.Ub(),c.Hc(11,te,2,1,"div",0),c.Ub(),c.Ub(),c.Ub(),c.Vb(12,"div",6),c.Vb(13,"div",4),c.Vb(14,"mat-form-field"),c.Vb(15,"mat-label"),c.Jc(16,"C\xf3digo"),c.Ub(),c.Qb(17,"input",7),c.Vb(18,"mat-hint"),c.Jc(19,"Ingrese un c\xf3digo"),c.Ub(),c.Hc(20,ae,2,1,"div",0),c.Ub(),c.Ub(),c.Ub(),c.Vb(21,"div",6),c.Vb(22,"div",4),c.Vb(23,"mat-form-field"),c.Vb(24,"mat-label"),c.Jc(25,"Direcci\xf3n"),c.Ub(),c.Qb(26,"input",8),c.Vb(27,"mat-hint"),c.Jc(28,"Ingrese una direcci\xf3n"),c.Ub(),c.Hc(29,ce,2,1,"div",0),c.Ub(),c.Ub(),c.Ub(),c.Vb(30,"div",3),c.Vb(31,"div",4),c.Vb(32,"mat-form-field"),c.Vb(33,"mat-label"),c.Jc(34,"Descripci\xf3n"),c.Ub(),c.Qb(35,"textarea",9),c.Vb(36,"mat-hint"),c.Jc(37,"Ingrese una descripci\xf3n"),c.Ub(),c.Hc(38,be,2,1,"div",0),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.mc(39),c.Ub(),c.Ub()),2&e){const e=c.hc();let o=null,i=null,t=null,r=null;c.Cb(1),c.oc("formGroup",e.formularioBodegaInventario),c.Cb(7),c.oc("ngClass",c.rc(9,le,0===e.mensajesErrorNombre.length&&(null==e.formularioBodegaInventario||null==(o=e.formularioBodegaInventario.get("nombre"))?null:o.value),e.mensajesErrorNombre.length>0)),c.Cb(3),c.oc("ngIf",e.mensajesErrorNombre.length>0),c.Cb(6),c.oc("ngClass",c.rc(12,le,0===e.mensajesErrorCodigo.length&&(null==e.formularioBodegaInventario||null==(i=e.formularioBodegaInventario.get("codigo"))?null:i.value),e.mensajesErrorCodigo.length>0)),c.Cb(3),c.oc("ngIf",e.mensajesErrorCodigo.length>0),c.Cb(6),c.oc("ngClass",c.rc(15,le,0===e.mensajesErrorDireccion.length&&(null==e.formularioBodegaInventario||null==(t=e.formularioBodegaInventario.get("direccion"))?null:t.value),e.mensajesErrorDireccion.length>0)),c.Cb(3),c.oc("ngIf",e.mensajesErrorDireccion.length>0),c.Cb(6),c.oc("ngClass",c.rc(18,le,0===e.mensajesErrorDescripcion.length&&(null==e.formularioBodegaInventario||null==(r=e.formularioBodegaInventario.get("descripcion"))?null:r.value),e.mensajesErrorDescripcion.length>0)),c.Cb(3),c.oc("ngIf",e.mensajesErrorDescripcion.length>0)}}const ue=["*"];let me=(()=>{class e{constructor(e){this._formBuilder=e,this.formularioValido=!1,this.mensajesErrorNombre=[],this.mensajesErrorCodigo=[],this.mensajesErrorDireccion=[],this.mensajesErrorDescripcion=[],this._mensajesValidacionNombre=u.e,this._mensajesValidacionCodigo=u.b,this._mensajesValidacionDireccion=u.c,this._mensajesValidacionDescripcion=u.d,this.subscriptores=[],this.formularioEmitter=new c.o}ngOnInit(){this.iniciarFormulario(),this._escucharFormulario(),this._escucharCampoNombre(),this._escucharCampoCodigo(),this._escucharCampoDireccion(),this._escucharCampoDescripcion()}ngOnDestroy(){this.subscriptores.forEach(e=>e.unsubscribe())}iniciarFormulario(){this.formularioBodegaInventario=this._formBuilder.group({nombre:[this.bodegaInventario?this.bodegaInventario.nombre:"",[d.r.required,d.r.minLength(3),d.r.maxLength(100)]],codigo:[this.bodegaInventario?this.bodegaInventario.codigo:"",[d.r.required,d.r.minLength(3),d.r.maxLength(10)]],direccion:[this.bodegaInventario?this.bodegaInventario.direccion:"",[d.r.minLength(3),d.r.maxLength(250)]],descripcion:[this.bodegaInventario?this.bodegaInventario.descripcion:"",[d.r.required,d.r.minLength(3),d.r.maxLength(200)]]})}_escucharFormulario(){if(this.formularioBodegaInventario){const e=this.formularioBodegaInventario.valueChanges.subscribe(e=>{var o;(null===(o=this.formularioBodegaInventario)||void 0===o?void 0:o.valid)?this.formularioEmitter.emit(e):this.formularioEmitter.emit(void 0)});this.subscriptores.push(e)}}_escucharCampoNombre(){var e;const o=null===(e=this.formularioBodegaInventario)||void 0===e?void 0:e.get("nombre"),i=o.valueChanges.pipe(Object(m.a)(1e3)).subscribe(e=>{this._setearMensajesNombre(o)});this.subscriptores.push(i)}_setearMensajesNombre(e){this.mensajesErrorNombre=[],(e.dirty||e.touched)&&e.errors&&(this.mensajesErrorNombre=Object.keys(e.errors).map(e=>this._mensajesValidacionNombre[e]))}_escucharCampoCodigo(){var e;const o=null===(e=this.formularioBodegaInventario)||void 0===e?void 0:e.get("codigo"),i=o.valueChanges.pipe(Object(m.a)(1e3)).subscribe(e=>{this._setearMensajesCodigo(o)});this.subscriptores.push(i)}_setearMensajesCodigo(e){this.mensajesErrorCodigo=[],(e.dirty||e.touched)&&e.errors&&(this.mensajesErrorCodigo=Object.keys(e.errors).map(e=>this._mensajesValidacionCodigo[e]))}_escucharCampoDireccion(){var e;const o=null===(e=this.formularioBodegaInventario)||void 0===e?void 0:e.get("direccion"),i=o.valueChanges.pipe(Object(m.a)(1e3)).subscribe(e=>{this._setearMensajesDireccion(o)});this.subscriptores.push(i)}_setearMensajesDireccion(e){this.mensajesErrorDireccion=[],(e.dirty||e.touched)&&e.errors&&(this.mensajesErrorCodigo=Object.keys(e.errors).map(e=>this._mensajesValidacionDireccion[e]))}_escucharCampoDescripcion(){var e;const o=null===(e=this.formularioBodegaInventario)||void 0===e?void 0:e.get("descripcion"),i=o.valueChanges.pipe(Object(m.a)(1e3)).subscribe(e=>{this._setearMensajesDescripcion(o)});this.subscriptores.push(i)}_setearMensajesDescripcion(e){this.mensajesErrorDescripcion=[],(e.dirty||e.touched)&&e.errors&&(this.mensajesErrorDescripcion=Object.keys(e.errors).map(e=>this._mensajesValidacionDescripcion[e]))}}return e.\u0275fac=function(o){return new(o||e)(c.Pb(d.c))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-formulario-bodega-inventario"]],inputs:{bodegaInventario:"bodegaInventario"},outputs:{formularioEmitter:"formularioEmitter"},ngContentSelectors:ue,decls:1,vars:1,consts:[[4,"ngIf"],[1,"example-form",3,"formGroup"],[1,"row"],[1,"col-sm-12","text-center","marginbottom1rem"],[1,"form-group"],["matInput","","placeholder","Inventario uno","formControlName","nombre","type","text","aria-describedby","emailHelp",1,"form-control","example-full-width",3,"ngClass"],[1,"col-sm-6","text-center","marginbottom1rem"],["matInput","","placeholder","B-01","formControlName","codigo","type","text","aria-describedby","emailHelp",1,"form-control","example-full-width",3,"ngClass"],["matInput","","placeholder","B-01","formControlName","direccion","type","text","aria-describedby","emailHelp",1,"form-control","example-full-width",3,"ngClass"],["matInput","","placeholder","Descripcion inventario","formControlName","descripcion","type","text","aria-describedby","emailHelp",1,"form-control","example-full-width",3,"ngClass"],[4,"ngFor","ngForOf"]],template:function(e,o){1&e&&(c.nc(),c.Hc(0,de,40,21,"div",0)),2&e&&c.oc("ngIf",o.formularioBodegaInventario)},directives:[t.l,d.s,d.m,d.g,g.c,g.g,h.a,d.b,d.l,d.f,t.j,g.f,t.k,g.b],styles:[""]}),e})();var ge=i("JX91"),he=i("lJxs"),pe=i("Rdxy"),ve=i("/1cH");function fe(e,o){if(1&e&&(c.Vb(0,"mat-option",11),c.Jc(1),c.Ub()),2&e){const e=o.$implicit;c.oc("value",e),c.Cb(1),c.Lc(" ",e.nombre,"")}}let Ve=(()=>{class e{constructor(e,o){this._bodegaRestService=e,this._cargandoService=o,this.seleccionoBodega=new c.o,this.arregloBodegas=[],this.controlAutocomplete=new d.d}ngOnInit(){this._cargarBodegas(),this.escucharCambiosAutocomplete()}_cargarBodegas(){this._cargandoService.habilitarCargando(),this._bodegaRestService.buscar({skip:0,take:100,busqueda:""}).subscribe(e=>{this._cargandoService.deshabilitarCargando(),this.arregloBodegas=e.listaObjetos},e=>{this._cargandoService.deshabilitarCargando(),console.error("Ocurrio un error",e)})}emitirSeleccionoBodega(e){this.seleccionoBodega.emit(e)}escucharCambiosAutocomplete(){this.opcionesFiltradas=this.controlAutocomplete.valueChanges.pipe(Object(ge.a)(""),Object(he.a)(e=>this._filtrarArreglo(e)))}_filtrarArreglo(e){const o=e;return this.arregloBodegas.filter(e=>e.nombre.search(o)>=0)}mostrarNombreBodega(){return e=>this.display(e)}display(e){return e?e.nombre:e}}return e.\u0275fac=function(o){return new(o||e)(c.Pb(pe.a),c.Pb(b.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-seleccionar-bodega"]],outputs:{seleccionoBodega:"seleccionoBodega"},decls:15,vars:6,consts:[[1,"row"],[1,"col-lg-9"],["color","accent","appearance","fill"],["type","text","placeholder","Busque bodegas","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected","opened"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-3"],[1,"paddingTop26px"],["mat-raised-button","","color","primary",3,"click"],[1,"icon-small"],[3,"value"]],template:function(e,o){if(1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"mat-form-field",2),c.Vb(3,"mat-label"),c.Jc(4,"Seleccionar bodega*"),c.Ub(),c.Qb(5,"input",3),c.Vb(6,"mat-autocomplete",4,5),c.dc("optionSelected",function(e){return o.emitirSeleccionoBodega(e.option.value)})("opened",function(){return!0}),c.Hc(8,fe,2,2,"mat-option",6),c.ic(9,"async"),c.Ub(),c.Ub(),c.Ub(),c.Vb(10,"div",7),c.Vb(11,"div",8),c.Vb(12,"button",9),c.dc("click",function(){return o.controlAutocomplete.reset(),o.emitirSeleccionoBodega(void 0)}),c.Vb(13,"mat-icon",10),c.Jc(14,"cleaning_services"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e){const e=c.yc(7);c.Cb(5),c.oc("formControl",o.controlAutocomplete)("matAutocomplete",e),c.Cb(1),c.oc("displayWith",o.mostrarNombreBodega()),c.Cb(2),c.oc("ngForOf",c.jc(9,4,o.opcionesFiltradas))}},directives:[g.c,g.g,h.a,d.b,ve.c,d.l,d.e,ve.a,t.k,M.a,B.a,v.g],pipes:[t.b],styles:[""]}),e})();function Ue(e,o){if(1&e){const e=c.Wb();c.Vb(0,"div",9),c.Vb(1,"app-seleccionar-bodega",10),c.dc("seleccionoBodega",function(o){return c.zc(e),c.hc().setearBodega(o)}),c.Ub(),c.Ub()}}let Ce=(()=>{class e{constructor(e,o,i,t,r){this.data=e,this._bodegaInventario=o,this._cargandoService=i,this._toastrService=t,this._dialog=r}ngOnInit(){}guardarRegistro(){var e,o;this._cargandoService.habilitarCargando(),this.data.bodegaInventario?(null===(e=this.inventarioCrearEditar)||void 0===e||(e.habilitado=this.data.bodegaInventario.habilitado),null===(o=this.inventarioCrearEditar)||void 0===o||(o.id=this.data.bodegaInventario.id),this._bodegaInventario.editar(this.inventarioCrearEditar,this.data.bodegaInventario.id).subscribe(e=>{this._cargandoService.deshabilitarCargando(),this._toastrService.success("Se actualiz\xf3 correctamente"),this._dialog.closeAll()},e=>{console.error({error:e}),this._cargandoService.deshabilitarCargando(),this._toastrService.error("Ocurri\xf3 un error","Error")})):this.inventarioCrearEditar&&this.bodegaSeleccionado&&(this.inventarioCrearEditar.departamento={id:this.data.idDepartamento},this.inventarioCrearEditar.tipoBodega={id:this.bodegaSeleccionado.id},this.inventarioCrearEditar.habilitado=!0,this._bodegaInventario.crear(this.inventarioCrearEditar).subscribe(e=>{this._cargandoService.deshabilitarCargando(),this._toastrService.success("Se cre\xf3 correctamente"),this._dialog.closeAll()},e=>{console.error({error:e}),this._cargandoService.deshabilitarCargando(),this._toastrService.error("Ocurri\xf3 un error","Error")}))}setearBodegaInventario(e){this.inventarioCrearEditar=e}setearBodega(e){this.bodegaSeleccionado=e}}return e.\u0275fac=function(o){return new(o||e)(c.Pb(n.a),c.Pb(oe.a),c.Pb(b.a),c.Pb(l.b),c.Pb(n.b))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-modal-crear-editar-bodega-inventario"]],decls:13,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"row"],["class","col-sm-6",4,"ngIf"],[1,"col-sm-12"],[3,"bodegaInventario","formularioEmitter"],["mat-dialog-actions",""],["mat-button","","mat-raised-button","","color","primary",3,"disabled","click"],["mat-button","","mat-dialog-close","","mat-raised-button","","color","accent"],[1,"col-sm-6"],[3,"seleccionoBodega"]],template:function(e,o){1&e&&(c.Vb(0,"h1",0),c.Jc(1),c.Ub(),c.Vb(2,"div",1),c.Vb(3,"div",2),c.Hc(4,Ue,2,0,"div",3),c.Ub(),c.Vb(5,"div",2),c.Vb(6,"div",4),c.Vb(7,"app-formulario-bodega-inventario",5),c.dc("formularioEmitter",function(e){return o.setearBodegaInventario(e)}),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(8,"div",6),c.Vb(9,"button",7),c.dc("click",function(){return o.guardarRegistro()}),c.Jc(10),c.Ub(),c.Vb(11,"button",8),c.Jc(12,"Cancelar"),c.Ub(),c.Ub()),2&e&&(c.Cb(1),c.Lc("",o.data.bodegaInventario?"Editar":"Crear"," Inventario"),c.Cb(3),c.oc("ngIf",!o.data.bodegaInventario),c.Cb(3),c.oc("bodegaInventario",o.data.bodegaInventario),c.Cb(2),c.oc("disabled",!(o.bodegaSeleccionado&&o.inventarioCrearEditar||o.inventarioCrearEditar)),c.Cb(1),c.Kc(o.data.bodegaInventario?"Guardar cambios":"Guardar"))},directives:[n.h,n.e,t.l,me,n.c,M.a,n.d,Ve],styles:[""]}),e})();var Ie=i("1jcm"),_e=i("qNuk");function Ee(e,o){}function je(e,o){if(1&e){const e=c.Wb();c.Vb(0,"button",23),c.dc("click",function(){return c.zc(e),c.hc().abrirModalCrearEditar()}),c.Ub()}}function ye(e,o){1&e&&c.Qb(0,"col"),2&e&&c.Eb("col-width col-width-"+o.$implicit.width)}function Je(e,o){if(1&e&&(c.Vb(0,"colgroup"),c.Hc(1,ye,1,2,"col",24),c.Ub()),2&e){const e=o.$implicit;c.Cb(1),c.oc("ngForOf",e)}}function Me(e,o){if(1&e&&(c.Vb(0,"th"),c.Vb(1,"div",26),c.Vb(2,"div",27),c.Jc(3),c.Ub(),c.Ub(),c.Ub()),2&e){const e=o.$implicit;c.Cb(3),c.Lc(" ",e.header," ")}}function Se(e,o){if(1&e&&(c.Vb(0,"tr"),c.Hc(1,Me,4,1,"th",25),c.Ub()),2&e){const e=o.$implicit;c.Cb(1),c.oc("ngForOf",e)}}const xe=function(e,o){return{"fondo-cumple":e,"fondo-no-cumple":o}};function De(e,o){if(1&e){const e=c.Wb();c.Vb(0,"div"),c.Vb(1,"mat-card"),c.Vb(2,"div",29),c.Vb(3,"div",30),c.Vb(4,"p",31),c.Jc(5),c.Ub(),c.Ub(),c.Vb(6,"div",32),c.Vb(7,"mat-slide-toggle",33),c.dc("change",function(){c.zc(e);const o=c.hc(2).$implicit;return c.hc().activarDesactivarRegistro(o)}),c.Jc(8),c.ic(9,"activoInactivo"),c.Ub(),c.Ub(),c.Ub(),c.Vb(10,"mat-card-content",34),c.Vb(11,"div",0),c.Vb(12,"div",35),c.Vb(13,"strong"),c.Jc(14,"Informaci\xf3n Inventario"),c.Ub(),c.Ub(),c.Vb(15,"div",1),c.Vb(16,"div",0),c.Vb(17,"div",36),c.Vb(18,"strong"),c.Jc(19,"C\xf3digo:"),c.Ub(),c.Jc(20),c.Ub(),c.Vb(21,"div",36),c.Vb(22,"strong"),c.Jc(23,"Direcci\xf3n:"),c.Ub(),c.Jc(24),c.Ub(),c.Vb(25,"div",37),c.Vb(26,"strong"),c.Jc(27,"Descripci\xf3n:"),c.Ub(),c.Jc(28),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=c.hc(2).$implicit;c.Cb(5),c.Lc(" ",e.nombre,""),c.Cb(2),c.oc("checked",e.habilitado),c.Cb(1),c.Lc(" ",c.jc(9,7,e)," "),c.Cb(2),c.oc("ngClass",c.rc(9,xe,e.habilitado,!e.habilitado)),c.Cb(10),c.Lc(" ",e.codigo," "),c.Cb(4),c.Lc(" ",e.direccion," "),c.Cb(4),c.Lc(" ",e.descripcion," ")}}function Pe(e,o){if(1&e){const e=c.Wb();c.Vb(0,"div"),c.Vb(1,"div",14),c.Vb(2,"div",38),c.Vb(3,"div",39),c.Vb(4,"button",40),c.dc("click",function(){c.zc(e);const o=c.hc(2).$implicit;return c.hc().abrirModalCrearEditar(o)}),c.Jc(5," Editar "),c.Ub(),c.Ub(),c.Vb(6,"div",39),c.Vb(7,"button",40),c.dc("click",function(){c.zc(e);const o=c.hc(2).$implicit;return c.hc().navegarArticulos(o)}),c.Jc(8," Ver articulos "),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=c.hc(2).$implicit;c.Cb(4),c.oc("disabled",!e.habilitado),c.Cb(3),c.oc("disabled",!e.habilitado)}}function we(e,o){if(1&e&&(c.Vb(0,"td"),c.Hc(1,De,29,12,"div",28),c.Hc(2,Pe,9,2,"div",28),c.Ub()),2&e){const e=o.$implicit;c.Cb(1),c.oc("ngIf","nombre"===e.field),c.Cb(1),c.oc("ngIf","id"===e.field)}}function ke(e,o){if(1&e&&(c.Vb(0,"tr"),c.Hc(1,we,3,2,"td",25),c.Ub()),2&e){const e=o.columns;c.Cb(1),c.oc("ngForOf",e)}}function Be(e,o){1&e&&(c.Vb(0,"tr"),c.Vb(1,"td",41),c.Jc(2,"No existen inventarios. "),c.Vb(3,"strong"),c.Jc(4,"Click en nuevo"),c.Ub(),c.Jc(5," para crear un nuevo ivnentario"),c.Ub(),c.Ub())}let Oe=(()=>{class e{constructor(e,o,i,t,r,n){this._dialog=e,this._bodegaInventarioRestService=o,this._toastrService=i,this._cargandoService=t,this._activatedRoute=r,this._router=n,this.columnasPrimeTable=[{field:"nombre",header:"Nombre",width:"70"},{field:"id",header:"Acciones",width:"30"}],this.filas=a.a.rows,this.inventarios=[{id:1,codigo:"2134s",direccion:"10 de agosto",nombre:"Inventario",habilitado:!0,descripcion:"Bodega solo de productos de oficina"}],this.totalBodegaInventario=0}ngOnInit(){this.recuperarParametros()}recuperarParametros(){this._activatedRoute.params.subscribe(e=>{this.idDepartamento=Number(e.idDepartamento),this.cargarDatos()})}limpiarFiltroGeneral(){}cargarDatos(e,o){this._cargandoService.habilitarCargando();let i={skip:e||0,take:o||x.a.take,busqueda:"",idDepartamento:this.idDepartamento};""!==this.textoBusqueda&&this.textoBusqueda&&(i.busqueda=this.textoBusqueda),console.log("busqueda",i),this._bodegaInventarioRestService.buscar(i).subscribe(e=>{this._cargandoService.deshabilitarCargando(),this.inventarios=e.listaObjetos,this.totalBodegaInventario=""!==this.textoBusqueda?e.cantidadRegistros:this.inventarios.length},e=>{this._cargandoService.deshabilitarCargando(),this._toastrService.error("Ocurri\xf3 un error","Error")})}cargarMasDatos(e){this.cargarDatos(e.first,e.rows)}abrirModalCrearEditar(e){this._dialog.open(Ce,{data:{bodegaInventario:e,idDepartamento:this.idDepartamento}}).afterClosed().subscribe(e=>this.cargarDatos())}reiniciarArreglo(){this.inventarios=[],this.totalBodegaInventario=0}activarDesactivarRegistro(e){this._cargandoService.habilitarCargando();const o=Object(D.a)(this.inventarios,e);this._bodegaInventarioRestService.editar({habilitado:!e.habilitado},e.id).subscribe(i=>{this._cargandoService.deshabilitarCargando(),this._toastrService.success("Actualizado correctament","Correcto"),this.inventarios[o].habilitado=!e.habilitado},e=>{this._toastrService.error("Ocurri\xf3 un error","Error"),this._cargandoService.deshabilitarCargando()})}navegarArticulos(e){this._router.navigate(["/inventarios",e.id,"articulos-inventario"])}}return e.\u0275fac=function(o){return new(o||e)(c.Pb(n.b),c.Pb(oe.a),c.Pb(l.b),c.Pb(b.a),c.Pb(r.a),c.Pb(r.b))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-ruta-inventario-bodega"]],decls:35,vars:12,consts:[[1,"row"],[1,"col-sm-12"],[1,"padding20px"],[3,"mostrarIrAtras","titulo","descripcion","iconoUrl"],[1,"row","mat-elevation-z8","padding20px"],[1,"col-md-10"],["color","accent"],["matInput","","placeholder","Ej: 239",3,"ngModel","ngModelChange"],[1,"form-text"],[1,"icon-small"],["mat-raised-button","","color","accent",1,"paddingLeftRigh10",3,"click"],[1,"col-md-2"],[1,"paddingTop26px"],["mat-raised-button","","color","primary",3,"click"],[1,"mat-elevation-z8"],["styleClass","p-mb-4"],["pTemplate","left"],["pTemplate","right"],["styleClass","p-datatable-responsive-demo",3,"columns","frozenColumns","value","lazy","paginator","rows","totalRecords","onLazyLoad"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pButton","","pRipple","","label","Nuevo","icon","pi pi-plus",1,"p-button-success","p-mr-2",3,"click"],[3,"class",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-d-flex","p-jc-between","p-ai-center"],[1,"text-center"],[4,"ngIf"],[1,"row","paddinBottom2"],[1,"col-sm-10","text-center"],[1,"titulo-card-centro"],[1,"col-sm-2","text-end"],[3,"checked","change"],[3,"ngClass"],[1,"col-sm-12","text-center","paddinBottom2"],[1,"col-sm-6","text-center","paddinBottom2"],[1,"col-sm-12","text-center"],[1,"row","padding20px"],[1,"col-sm-4","text-center"],["mat-raised-button","","color","primary",3,"disabled","click"],["colspan","4"]],template:function(e,o){1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"mat-card"),c.Vb(3,"div",2),c.Qb(4,"app-titulo-ruta",3),c.Qb(5,"br"),c.Vb(6,"div",4),c.Vb(7,"div",5),c.Vb(8,"mat-form-field",6),c.Vb(9,"mat-label"),c.Jc(10,"Busque por codigo de nombre o c\xf3digo*"),c.Ub(),c.Vb(11,"input",7),c.dc("ngModelChange",function(e){return o.textoBusqueda=e}),c.Ub(),c.Ub(),c.Vb(12,"p",8),c.Vb(13,"mat-icon",9),c.Jc(14,"info"),c.Ub(),c.Jc(15," Puede buscar los inventarios por c\xf3digo o nombre. "),c.Ub(),c.Vb(16,"button",10),c.dc("click",function(){return o.reiniciarArreglo()})("click",function(){return o.cargarDatos()}),c.Jc(17," Buscar "),c.Vb(18,"mat-icon"),c.Jc(19,"search"),c.Ub(),c.Ub(),c.Ub(),c.Vb(20,"div",11),c.Vb(21,"div",12),c.Vb(22,"button",13),c.dc("click",function(){return o.textoBusqueda=""}),c.Vb(23,"mat-icon",9),c.Jc(24,"cleaning_services"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Qb(25,"br"),c.Vb(26,"div",14),c.Vb(27,"p-toolbar",15),c.Hc(28,Ee,0,0,"ng-template",16),c.Hc(29,je,1,0,"ng-template",17),c.Ub(),c.Vb(30,"p-table",18),c.dc("onLazyLoad",function(e){return o.cargarMasDatos(e)}),c.Hc(31,Je,2,1,"ng-template",19),c.Hc(32,Se,2,1,"ng-template",20),c.Hc(33,ke,2,1,"ng-template",21),c.Hc(34,Be,6,0,"ng-template",22),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e&&(c.Cb(4),c.oc("mostrarIrAtras",!0)("titulo","Gesti\xf3n de inventarios")("descripcion","Gestione todos sus inventarios")("iconoUrl","inventario.svg"),c.Cb(7),c.oc("ngModel",o.textoBusqueda),c.Cb(19),c.oc("columns",o.columnasPrimeTable)("frozenColumns",o.columnasPrimeTable)("value",o.inventarios)("lazy",!0)("paginator",!0)("rows",o.filas)("totalRecords",o.totalBodegaInventario))},directives:[w.a,k.a,g.c,g.g,h.a,d.b,d.l,d.o,B.a,M.a,O.a,A.f,N.a,H.b,R.a,t.k,t.l,Ie.a,w.b,t.j],pipes:[_e.a],styles:[""]}),e})();var Ae=i("u2oD");function Ne(e,o){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"mat-error"),c.Vb(2,"p"),c.Jc(3),c.Ub(),c.Ub(),c.Ub()),2&e){const e=o.$implicit;c.Cb(3),c.Kc(e)}}function He(e,o){if(1&e&&(c.Vb(0,"div"),c.Hc(1,Ne,4,1,"div",10),c.Ub()),2&e){const e=c.hc(2);c.Cb(1),c.oc("ngForOf",e.mensajesErrorNombre)}}function Re(e,o){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"mat-error"),c.Vb(2,"p"),c.Jc(3),c.Ub(),c.Ub(),c.Ub()),2&e){const e=o.$implicit;c.Cb(3),c.Kc(e)}}function Fe(e,o){if(1&e&&(c.Vb(0,"div"),c.Hc(1,Re,4,1,"div",10),c.Ub()),2&e){const e=c.hc(2);c.Cb(1),c.oc("ngForOf",e.mensajesErrorCodigo)}}function Le(e,o){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"mat-error"),c.Vb(2,"p"),c.Jc(3),c.Ub(),c.Ub(),c.Ub()),2&e){const e=o.$implicit;c.Cb(3),c.Kc(e)}}function Te(e,o){if(1&e&&(c.Vb(0,"div"),c.Hc(1,Le,4,1,"div",10),c.Ub()),2&e){const e=c.hc(2);c.Cb(1),c.oc("ngForOf",e.mensajesErrorCodigo)}}function qe(e,o){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"mat-error"),c.Vb(2,"p"),c.Jc(3),c.Ub(),c.Ub(),c.Ub()),2&e){const e=o.$implicit;c.Cb(3),c.Kc(e)}}function ze(e,o){if(1&e&&(c.Vb(0,"div"),c.Hc(1,qe,4,1,"div",10),c.Ub()),2&e){const e=c.hc(2);c.Cb(1),c.oc("ngForOf",e.mensajesErrorDescripcion)}}const $e=function(e,o){return{"is-valid":e,"is-invalid":o}};function Qe(e,o){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"form",1),c.Vb(2,"div",2),c.Vb(3,"div",3),c.Vb(4,"div",4),c.Vb(5,"mat-form-field"),c.Vb(6,"mat-label"),c.Jc(7,"Nombre"),c.Ub(),c.Qb(8,"input",5),c.Vb(9,"mat-hint"),c.Jc(10,"Ingrese un nombre"),c.Ub(),c.Hc(11,He,2,1,"div",0),c.Ub(),c.Ub(),c.Ub(),c.Vb(12,"div",6),c.Vb(13,"div",4),c.Vb(14,"mat-form-field"),c.Vb(15,"mat-label"),c.Jc(16,"C\xf3digo"),c.Ub(),c.Qb(17,"input",7),c.Vb(18,"mat-hint"),c.Jc(19,"Ingrese un c\xf3digo"),c.Ub(),c.Hc(20,Fe,2,1,"div",0),c.Ub(),c.Ub(),c.Ub(),c.Vb(21,"div",6),c.Vb(22,"div",4),c.Vb(23,"mat-form-field"),c.Vb(24,"mat-label"),c.Jc(25,"C\xf3digo auxiliar"),c.Ub(),c.Qb(26,"input",8),c.Vb(27,"mat-hint"),c.Jc(28,"Ingrese un c\xf3digo"),c.Ub(),c.Hc(29,Te,2,1,"div",0),c.Ub(),c.Ub(),c.Ub(),c.Vb(30,"div",3),c.Vb(31,"div",4),c.Vb(32,"mat-form-field"),c.Vb(33,"mat-label"),c.Jc(34,"Descripci\xf3n"),c.Ub(),c.Qb(35,"textarea",9),c.Vb(36,"mat-hint"),c.Jc(37,"Ingrese una descripci\xf3n"),c.Ub(),c.Hc(38,ze,2,1,"div",0),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.mc(39),c.Ub(),c.Ub()),2&e){const e=c.hc();let o=null,i=null,t=null,r=null;c.Cb(1),c.oc("formGroup",e.formularioProducto),c.Cb(7),c.oc("ngClass",c.rc(9,$e,0===e.mensajesErrorNombre.length&&(null==e.formularioProducto||null==(o=e.formularioProducto.get("nombre"))?null:o.value),e.mensajesErrorNombre.length>0)),c.Cb(3),c.oc("ngIf",e.mensajesErrorNombre.length>0),c.Cb(6),c.oc("ngClass",c.rc(12,$e,0===e.mensajesErrorCodigo.length&&(null==e.formularioProducto||null==(i=e.formularioProducto.get("codigo"))?null:i.value),e.mensajesErrorCodigo.length>0)),c.Cb(3),c.oc("ngIf",e.mensajesErrorCodigo.length>0),c.Cb(6),c.oc("ngClass",c.rc(15,$e,0===e.mensajesErrorCodigoAuxiliar.length&&(null==e.formularioProducto||null==(t=e.formularioProducto.get("codigoAuxiliar"))?null:t.value),e.mensajesErrorCodigoAuxiliar.length>0)),c.Cb(3),c.oc("ngIf",e.mensajesErrorCodigoAuxiliar.length>0),c.Cb(6),c.oc("ngClass",c.rc(18,$e,0===e.mensajesErrorDescripcion.length&&(null==e.formularioProducto||null==(r=e.formularioProducto.get("descripcion"))?null:r.value),e.mensajesErrorDescripcion.length>0)),c.Cb(3),c.oc("ngIf",e.mensajesErrorDescripcion.length>0)}}const Ke=["*"];let Ge=(()=>{class e{constructor(e){this._formBuilder=e,this.formularioValido=!1,this.mensajesErrorNombre=[],this.mensajesErrorCodigo=[],this.mensajesErrorCodigoAuxiliar=[],this.mensajesErrorDescripcion=[],this._mensajesValidacionNombre=u.e,this._mensajesValidacionCodigo=u.b,this._mensajesValidacionCodigoAuxiliar=u.c,this._mensajesValidacionDescripcion=u.d,this.subscriptores=[],this.formularioEmitter=new c.o}ngOnInit(){this.iniciarFormulario(),this._escucharFormulario(),this._escucharCampoNombre(),this._escucharCampoCodigo(),this._escucharCampoCodigoAuxiliar(),this._escucharCampoDescripcion()}ngOnDestroy(){this.subscriptores.forEach(e=>e.unsubscribe())}iniciarFormulario(){this.formularioProducto=this._formBuilder.group({nombre:[this.producto?this.producto.nombre:"",[d.r.required,d.r.minLength(3),d.r.maxLength(100)]],codigo:[this.producto?this.producto.codigo:"",[d.r.required,d.r.minLength(3),d.r.maxLength(10)]],codigoAuxiliar:[this.producto?this.producto.codigoAuxiliar:"",[d.r.required,d.r.minLength(3),d.r.maxLength(10)]],descripcion:[this.producto?this.producto.descripcion:"",[d.r.required,d.r.minLength(3),d.r.maxLength(250)]]})}_escucharFormulario(){if(this.formularioProducto){const e=this.formularioProducto.valueChanges.subscribe(e=>{var o;(null===(o=this.formularioProducto)||void 0===o?void 0:o.valid)?this.formularioEmitter.emit(e):this.formularioEmitter.emit(void 0)});this.subscriptores.push(e)}}_escucharCampoNombre(){var e;const o=null===(e=this.formularioProducto)||void 0===e?void 0:e.get("nombre"),i=o.valueChanges.pipe(Object(m.a)(1e3)).subscribe(e=>{this._setearMensajesNombre(o)});this.subscriptores.push(i)}_setearMensajesNombre(e){this.mensajesErrorNombre=[],(e.dirty||e.touched)&&e.errors&&(this.mensajesErrorNombre=Object.keys(e.errors).map(e=>this._mensajesValidacionNombre[e]))}_escucharCampoCodigo(){var e;const o=null===(e=this.formularioProducto)||void 0===e?void 0:e.get("codigo"),i=o.valueChanges.pipe(Object(m.a)(1e3)).subscribe(e=>{this._setearMensajesCodigo(o)});this.subscriptores.push(i)}_setearMensajesCodigo(e){this.mensajesErrorCodigo=[],(e.dirty||e.touched)&&e.errors&&(this.mensajesErrorCodigo=Object.keys(e.errors).map(e=>this._mensajesValidacionCodigo[e]))}_escucharCampoCodigoAuxiliar(){var e;const o=null===(e=this.formularioProducto)||void 0===e?void 0:e.get("codigoAuxiliar"),i=o.valueChanges.pipe(Object(m.a)(1e3)).subscribe(e=>{this._setearMensajesCodigoAuxiliar(o)});this.subscriptores.push(i)}_setearMensajesCodigoAuxiliar(e){this.mensajesErrorCodigoAuxiliar=[],(e.dirty||e.touched)&&e.errors&&(this.mensajesErrorCodigo=Object.keys(e.errors).map(e=>this._mensajesValidacionCodigoAuxiliar[e]))}_escucharCampoDescripcion(){var e;const o=null===(e=this.formularioProducto)||void 0===e?void 0:e.get("descripcion"),i=o.valueChanges.pipe(Object(m.a)(1e3)).subscribe(e=>{this._setearMensajesDescripcion(o)});this.subscriptores.push(i)}_setearMensajesDescripcion(e){this.mensajesErrorDescripcion=[],(e.dirty||e.touched)&&e.errors&&(this.mensajesErrorDescripcion=Object.keys(e.errors).map(e=>this._mensajesValidacionDescripcion[e]))}}return e.\u0275fac=function(o){return new(o||e)(c.Pb(d.c))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-formulario-producto-inventario"]],inputs:{producto:"producto"},outputs:{formularioEmitter:"formularioEmitter"},ngContentSelectors:Ke,decls:1,vars:1,consts:[[4,"ngIf"],[1,"example-form",3,"formGroup"],[1,"row"],[1,"col-sm-12","text-center","marginbottom1rem"],[1,"form-group"],["matInput","","placeholder","Televisor 30 pulgadas","formControlName","nombre","type","text","aria-describedby","emailHelp",1,"form-control","example-full-width",3,"ngClass"],[1,"col-sm-6","text-center","marginbottom1rem"],["matInput","","placeholder","B-01","formControlName","codigo","type","text","aria-describedby","emailHelp",1,"form-control","example-full-width",3,"ngClass"],["matInput","","placeholder","B-01","formControlName","codigoAuxiliar","type","text","aria-describedby","emailHelp",1,"form-control","example-full-width",3,"ngClass"],["matInput","","placeholder","Televisor sony","formControlName","descripcion","type","text","aria-describedby","emailHelp",1,"form-control","example-full-width",3,"ngClass"],[4,"ngFor","ngForOf"]],template:function(e,o){1&e&&(c.nc(),c.Hc(0,Qe,40,21,"div",0)),2&e&&c.oc("ngIf",o.formularioProducto)},directives:[t.l,d.s,d.m,d.g,g.c,g.g,h.a,d.b,d.l,d.f,t.j,g.f,t.k,g.b],styles:[""]}),e})();var We=i("HDdC"),Xe=i("S6w3");function Ye(e,o){if(1&e&&(c.Vb(0,"mat-option",11),c.Jc(1),c.Ub()),2&e){const e=o.$implicit;c.oc("value",e),c.Cb(1),c.Mc(" ",e.codigo,"-",e.nombre," ")}}let Ze=(()=>{class e{constructor(e,o){this._productoRestService=e,this._cargandoService=o,this.seleccionoProducto=new c.o,this.arregloProductos=[],this.controlAutocomplete=new d.d,this.opcionesFiltradas=new We.a}ngOnInit(){this._cargarProductos(),this.escucharCambiosAutocomplete()}_cargarProductos(){this._cargandoService.habilitarCargando(),this._productoRestService.buscar({busqueda:"",skip:0,take:1e4}).subscribe(e=>{this._cargandoService.deshabilitarCargando(),this.arregloProductos=e.listaObjetos},e=>{this._cargandoService.deshabilitarCargando(),console.error("Ocurrio un error",e)})}emitirSeleccionoTransporte(e){this.seleccionoProducto.emit(e)}escucharCambiosAutocomplete(){this.opcionesFiltradas=this.controlAutocomplete.valueChanges.pipe(Object(ge.a)(""),Object(he.a)(e=>this._filtrarArreglo(e)))}_filtrarArreglo(e){const o=e;return this.arregloProductos.filter(e=>e.nombre.search(o)>=0)}mostrarNombreCooperativa(){return e=>this.display(e)}display(e){return e?`${e.codigo}-${e.nombre}`:e}}return e.\u0275fac=function(o){return new(o||e)(c.Pb(Xe.a),c.Pb(b.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-seleccionar-producto"]],outputs:{seleccionoProducto:"seleccionoProducto"},decls:15,vars:6,consts:[[1,"row"],[1,"col-lg-9"],["color","accent","appearance","fill"],["type","text","placeholder","Busque producto","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected","opened"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-3"],[1,"paddingTop26px"],["mat-raised-button","","color","primary",3,"click"],[1,"icon-small"],[3,"value"]],template:function(e,o){if(1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"mat-form-field",2),c.Vb(3,"mat-label"),c.Jc(4,"Seleccionar producto*"),c.Ub(),c.Qb(5,"input",3),c.Vb(6,"mat-autocomplete",4,5),c.dc("optionSelected",function(e){return o.emitirSeleccionoTransporte(e.option.value)})("opened",function(){return!0}),c.Hc(8,Ye,2,3,"mat-option",6),c.ic(9,"async"),c.Ub(),c.Ub(),c.Ub(),c.Vb(10,"div",7),c.Vb(11,"div",8),c.Vb(12,"button",9),c.dc("click",function(){return o.controlAutocomplete.reset(),o.emitirSeleccionoTransporte(void 0)}),c.Vb(13,"mat-icon",10),c.Jc(14,"cleaning_services"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e){const e=c.yc(7);c.Cb(5),c.oc("formControl",o.controlAutocomplete)("matAutocomplete",e),c.Cb(1),c.oc("displayWith",o.mostrarNombreCooperativa()),c.Cb(2),c.oc("ngForOf",c.jc(9,4,o.opcionesFiltradas))}},directives:[g.c,g.g,h.a,d.b,ve.c,d.l,d.e,ve.a,t.k,M.a,B.a,v.g],pipes:[t.b],styles:[""]}),e})();function eo(e,o){if(1&e){const e=c.Wb();c.Vb(0,"div",4),c.Vb(1,"app-seleccionar-producto",10),c.dc("seleccionoProducto",function(o){return c.zc(e),c.hc().setearProductoSeleccionado(o)}),c.Ub(),c.Ub()}}function oo(e,o){if(1&e){const e=c.Wb();c.Vb(0,"div"),c.Vb(1,"mat-form-field",11),c.Vb(2,"mat-label"),c.Jc(3,"Stock"),c.Ub(),c.Vb(4,"input",12),c.dc("ngModelChange",function(o){return c.zc(e),c.hc().articuloInventario=o}),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=c.hc();c.Cb(4),c.oc("ngModel",e.articuloInventario)}}let io=(()=>{class e{constructor(e,o,i,t){this._dialogRef=e,this.data=o,this._inventarioProductoRestService=i,this._toastrService=t}ngOnInit(){}setearProductoSeleccionado(e){this.productoSeleccionados=e}guardarRegistro(){this.articuloInventarioDatos&&(this.articuloInventarioDatos.id=this.data.articuloInventario.id,this.articuloInventarioDatos.stock=this.data.articuloInventario.stock,this.articuloInventarioDatos.habilitado=!0,console.log(this.articuloInventarioDatos),this._inventarioProductoRestService.crear(this.articuloInventarioDatos).subscribe(e=>{this._dialogRef.close(),this._toastrService.success("Creado correctamente","Correcto")},e=>{this._toastrService.error("Ocurri\xf3 un error","Error"),console.error(e)}))}setearDatosArticulo(e){this.articuloInventarioDatos=e}}return e.\u0275fac=function(o){return new(o||e)(c.Pb(n.g),c.Pb(n.a),c.Pb(Ae.a),c.Pb(l.b))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-modal-agregar-producto-inventario"]],decls:14,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"row"],["class","col-sm-12",4,"ngIf"],[1,"col-sm-12"],[4,"ngIf"],[3,"producto","formularioEmitter"],["mat-dialog-actions",""],["mat-button","","mat-raised-button","","color","primary",3,"disabled","click"],["mat-button","","mat-dialog-close","","mat-raised-button","","color","accent"],[3,"seleccionoProducto"],[1,"example-full-width"],["matInput","","type","number","placeholder","0","oninput","this.value = Math.abs(this.value)","min","0",3,"ngModel","ngModelChange"]],template:function(e,o){1&e&&(c.Vb(0,"h1",0),c.Jc(1,"Agregar productos"),c.Ub(),c.Vb(2,"div",1),c.Vb(3,"div"),c.Vb(4,"div",2),c.Hc(5,eo,2,0,"div",3),c.Vb(6,"div",4),c.Hc(7,oo,5,1,"div",5),c.Vb(8,"app-formulario-producto-inventario",6),c.dc("formularioEmitter",function(e){return o.setearDatosArticulo(e)}),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(9,"div",7),c.Vb(10,"button",8),c.dc("click",function(){return o.guardarRegistro()}),c.Jc(11,"Agregar"),c.Ub(),c.Vb(12,"button",9),c.Jc(13,"Cancelar"),c.Ub(),c.Ub()),2&e&&(c.Cb(5),c.oc("ngIf",!o.data.articuloInventario),c.Cb(2),c.oc("ngIf",!o.data.articuloInventario),c.Cb(1),c.oc("producto",o.data.articuloInventario),c.Cb(2),c.oc("disabled",!(o.productoSeleccionados&&o.articuloInventario&&o.articuloInventarioDatos||o.articuloInventarioDatos)))},directives:[n.h,n.e,t.l,Ge,n.c,M.a,n.d,Ze,g.c,g.g,h.a,d.p,d.b,d.l,d.o],styles:[""]}),e})(),to=(()=>{class e{constructor(e,o,i,t,r){this.data=e,this._articuloInventarioRestService=o,this._cargandoService=i,this._toastrService=t,this._dialogRef=r,this.ingresoEgresoSeleccionado=!0,P.locale("es")}ngOnInit(){this.data.articuloInventario&&(this.nombreArticulo=this.data.articuloInventario.producto.nombre)}guardarRegistro(){if(this.data.articuloInventario){const e={articuloInventario:{id:this.data.articuloInventario.id},cantidad:this.cantidadSeleccionada,suma:this.ingresoEgresoSeleccionado};this._cargandoService.habilitarCargando(),this._articuloInventarioRestService.ingresoEgreso(e).subscribe(e=>{this._cargandoService.deshabilitarCargando(),this._toastrService.success(this.ingresoEgresoSeleccionado?"Ingresado correctamente":"Egresado correctamente","Correcto"),this._dialogRef.close({cantidad:this.cantidadSeleccionada,suma:this.ingresoEgresoSeleccionado})},e=>{this._toastrService.error("No se puede actualizar, verifique la cantidad","Error")})}}}return e.\u0275fac=function(o){return new(o||e)(c.Pb(n.a),c.Pb(Ae.a),c.Pb(b.a),c.Pb(l.b),c.Pb(n.g))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-modal-ingreso-egreso"]],decls:24,vars:7,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"row"],[1,"col-sm-12"],[3,"ngModel","ngModelChange"],[3,"value"],[1,"example-full-width"],["matInput","","type","number","placeholder","0","oninput","this.value = Math.abs(this.value)","min","0",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","","mat-raised-button","","color","primary",3,"disabled","click"],["mat-button","","mat-dialog-close","","mat-raised-button","","color","accent"]],template:function(e,o){1&e&&(c.Vb(0,"h1",0),c.Jc(1),c.Ub(),c.Vb(2,"div",1),c.Vb(3,"div",2),c.Vb(4,"div",3),c.Vb(5,"mat-label"),c.Jc(6,"Ingreso/Egreso"),c.Ub(),c.Vb(7,"mat-select",4),c.dc("ngModelChange",function(e){return o.ingresoEgresoSeleccionado=e}),c.Vb(8,"mat-option",5),c.Jc(9,"Ingreso"),c.Ub(),c.Vb(10,"mat-option",5),c.Jc(11,"Egreso"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Qb(12,"br"),c.Vb(13,"div",2),c.Vb(14,"div",3),c.Vb(15,"mat-form-field",6),c.Vb(16,"mat-label"),c.Jc(17,"Cantidad"),c.Ub(),c.Vb(18,"input",7),c.dc("ngModelChange",function(e){return o.cantidadSeleccionada=e}),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(19,"div",8),c.Vb(20,"button",9),c.dc("click",function(){return o.guardarRegistro()}),c.Jc(21),c.Ub(),c.Vb(22,"button",10),c.Jc(23,"Cancelar"),c.Ub(),c.Ub()),2&e&&(c.Cb(1),c.Lc("Ingreso egreso de ",o.nombreArticulo,""),c.Cb(6),c.oc("ngModel",o.ingresoEgresoSeleccionado),c.Cb(1),c.oc("value",!0),c.Cb(2),c.oc("value",!1),c.Cb(8),c.oc("ngModel",o.cantidadSeleccionada),c.Cb(2),c.oc("disabled",!(o.cantidadSeleccionada&&(!1===o.ingresoEgresoSeleccionado||o.ingresoEgresoSeleccionado))),c.Cb(1),c.Kc(o.ingresoEgresoSeleccionado?"Ingresar":"Egresar"))},directives:[n.h,n.e,g.g,p.a,d.l,d.o,v.g,g.c,h.a,d.p,d.b,n.c,M.a,n.d],styles:[""]}),e})();function ro(e,o){}function ao(e,o){if(1&e){const e=c.Wb();c.Vb(0,"button",23),c.dc("click",function(){return c.zc(e),c.hc().abrirModalCrearEditar()}),c.Ub()}}function no(e,o){1&e&&c.Qb(0,"col"),2&e&&c.Eb("col-width col-width-"+o.$implicit.width)}function co(e,o){if(1&e&&(c.Vb(0,"colgroup"),c.Hc(1,no,1,2,"col",24),c.Ub()),2&e){const e=o.$implicit;c.Cb(1),c.oc("ngForOf",e)}}function so(e,o){if(1&e&&(c.Vb(0,"th"),c.Vb(1,"div",26),c.Vb(2,"div",27),c.Jc(3),c.Ub(),c.Ub(),c.Ub()),2&e){const e=o.$implicit;c.Cb(3),c.Lc(" ",e.header," ")}}function bo(e,o){if(1&e&&(c.Vb(0,"tr"),c.Hc(1,so,4,1,"th",25),c.Ub()),2&e){const e=o.$implicit;c.Cb(1),c.oc("ngForOf",e)}}function lo(e,o){if(1&e&&(c.Vb(0,"div"),c.Vb(1,"mat-card"),c.Vb(2,"div",29),c.Vb(3,"div",30),c.Vb(4,"p",31),c.Jc(5),c.Ub(),c.Ub(),c.Vb(6,"div",32),c.Jc(7),c.Ub(),c.Ub(),c.Vb(8,"mat-card-content"),c.Vb(9,"div",0),c.Vb(10,"div",33),c.Vb(11,"strong"),c.Jc(12,"Informaci\xf3n articulo inventario"),c.Ub(),c.Ub(),c.Vb(13,"div",1),c.Vb(14,"div",0),c.Vb(15,"div",33),c.Vb(16,"strong"),c.Jc(17,"C\xf3digo:"),c.Ub(),c.Jc(18),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e){const e=c.hc(2).$implicit;c.Cb(5),c.Lc(" ",e.nombre,""),c.Cb(2),c.Lc(" STOCK: ",e.stock," "),c.Cb(11),c.Lc(" -",e.codigo," ")}}function uo(e,o){if(1&e){const e=c.Wb();c.Vb(0,"div"),c.Vb(1,"div",14),c.Vb(2,"div",34),c.Vb(3,"div",35),c.Vb(4,"button",13),c.dc("click",function(){c.zc(e);const o=c.hc(2).$implicit;return c.hc().abrirModalCrearEditar(o)}),c.Jc(5," Editar "),c.Ub(),c.Ub(),c.Vb(6,"div",35),c.Vb(7,"button",13),c.dc("click",function(){c.zc(e);const o=c.hc(2).$implicit;return c.hc().navegarMantenimiento(o)}),c.Jc(8," Ver mantenimiento "),c.Ub(),c.Ub(),c.Vb(9,"div",36),c.Vb(10,"button",13),c.dc("click",function(){c.zc(e);const o=c.hc(2).$implicit;return c.hc().abrirModalIngresoEgreso(o)}),c.Jc(11," Ingreso/Egreso "),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()}}function mo(e,o){if(1&e&&(c.Vb(0,"td"),c.Hc(1,lo,19,3,"div",28),c.Hc(2,uo,12,0,"div",28),c.Ub()),2&e){const e=o.$implicit;c.Cb(1),c.oc("ngIf","stock"===e.field),c.Cb(1),c.oc("ngIf","id"===e.field)}}function go(e,o){if(1&e&&(c.Vb(0,"tr"),c.Hc(1,mo,3,2,"td",25),c.Ub()),2&e){const e=o.columns;c.Cb(1),c.oc("ngForOf",e)}}function ho(e,o){1&e&&(c.Vb(0,"tr"),c.Vb(1,"td",37),c.Jc(2,"No existen articulos agregados. "),c.Vb(3,"strong"),c.Jc(4,"Click en nuevo"),c.Ub(),c.Jc(5," para Agregar un nuevo articulo al inventario"),c.Ub(),c.Ub())}const po=[{path:":idDepartamento/bodega-inventario",component:Oe},{path:":idBodegaInventario/articulos-inventario",component:(()=>{class e{constructor(e,o,i,t,r,n){this._dialog=e,this._toastrService=o,this._cargandoService=i,this._activatedRoute=t,this._articuloInventarioRestService=r,this._router=n,this.columnasPrimeTable=[{field:"stock",header:"Nombre",width:"70"},{field:"id",header:"Acciones",width:"30"}],this.filas=a.a.rows,this.articulosInventario=[],this.totalArticulosInventario=0}ngOnInit(){this.recuperarParametros()}recuperarParametros(){this._activatedRoute.params.subscribe(e=>{this.idBodegaInventario=e.idBodegaInventario,this.cargarDatos()})}cargarDatos(e,o){let i={skip:e||0,take:o||x.a.take,busqueda:""};""!==this.textoBusqueda&&this.textoBusqueda&&(i.busqueda=this.textoBusqueda),this._articuloInventarioRestService.buscar(i).subscribe(e=>{this.articulosInventario=e.listaObjetos,this.totalArticulosInventario=""!==this.textoBusqueda?e.cantidadRegistros:this.articulosInventario.length},e=>{console.error("error",e),this._toastrService.error("Ocurri\xf3 un error al cargar art\xecculos","Error")})}cargarMasDatos(e){this.cargarDatos(e.first,e.rows)}abrirModalCrearEditar(e){const o=this._dialog.open(io,{data:{articuloInventario:e,idBodegaInventario:this.idBodegaInventario}});e?(this.articulosInventario.findIndex(o=>o.id===e.id),o.afterClosed().subscribe(e=>{this.cargarDatos()})):o.afterClosed().subscribe(e=>{e&&this.cargarDatos()})}abrirModalIngresoEgreso(e){const o=this._dialog.open(to,{width:"400px",data:{articuloInventario:e}});this.articulosInventario.findIndex(o=>o.id===e.id),o.afterClosed().subscribe(e=>{this.cargarDatos()})}reiniciarArreglo(){this.articulosInventario=[],this.totalArticulosInventario=0}navegarMantenimiento(e){this._router.navigate(["/inventarios",e.id,"mantenimiento"])}}return e.\u0275fac=function(o){return new(o||e)(c.Pb(n.b),c.Pb(l.b),c.Pb(b.a),c.Pb(r.a),c.Pb(Ae.a),c.Pb(r.b))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-ruta-articulo-inventario"]],decls:35,vars:12,consts:[[1,"row"],[1,"col-sm-12"],[1,"padding20px"],[3,"mostrarIrAtras","titulo","descripcion","iconoUrl"],[1,"row","mat-elevation-z8","padding20px"],[1,"col-md-10"],["color","accent"],["matInput","","placeholder","Ej: 239",3,"ngModel","ngModelChange"],[1,"form-text"],[1,"icon-small"],["mat-raised-button","","color","accent",1,"paddingLeftRigh10",3,"click"],[1,"col-md-2"],[1,"paddingTop26px"],["mat-raised-button","","color","primary",3,"click"],[1,"mat-elevation-z8"],["styleClass","p-mb-4"],["pTemplate","left"],["pTemplate","right"],["styleClass","p-datatable-responsive-demo",3,"columns","frozenColumns","value","lazy","paginator","rows","totalRecords","onLazyLoad"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pButton","","pRipple","","label","Nuevo","icon","pi pi-plus",1,"p-button-success","p-mr-2",3,"click"],[3,"class",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-d-flex","p-jc-between","p-ai-center"],[1,"text-center"],[4,"ngIf"],[1,"row","paddinBottom2"],[1,"col-sm-10","text-center"],[1,"titulo-card-centro"],[1,"col-sm-2","text-end"],[1,"col-sm-12","text-center","paddinBottom2"],[1,"row","padding20px"],[1,"col-sm-4","text-center","paddinBottom2"],[1,"col-sm-8","text-center"],["colspan","4"]],template:function(e,o){1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"mat-card"),c.Vb(3,"div",2),c.Qb(4,"app-titulo-ruta",3),c.Qb(5,"br"),c.Vb(6,"div",4),c.Vb(7,"div",5),c.Vb(8,"mat-form-field",6),c.Vb(9,"mat-label"),c.Jc(10,"Busque por codigo de nombre o c\xf3digo*"),c.Ub(),c.Vb(11,"input",7),c.dc("ngModelChange",function(e){return o.textoBusqueda=e}),c.Ub(),c.Ub(),c.Vb(12,"p",8),c.Vb(13,"mat-icon",9),c.Jc(14,"info"),c.Ub(),c.Jc(15," Puede buscar los inventarios por c\xf3digo o nombre. "),c.Ub(),c.Vb(16,"button",10),c.dc("click",function(){return o.reiniciarArreglo()})("click",function(){return o.cargarDatos()}),c.Jc(17," Buscar "),c.Vb(18,"mat-icon"),c.Jc(19,"search"),c.Ub(),c.Ub(),c.Ub(),c.Vb(20,"div",11),c.Vb(21,"div",12),c.Vb(22,"button",13),c.dc("click",function(){return o.textoBusqueda=""}),c.Vb(23,"mat-icon",9),c.Jc(24,"cleaning_services"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Qb(25,"br"),c.Vb(26,"div",14),c.Vb(27,"p-toolbar",15),c.Hc(28,ro,0,0,"ng-template",16),c.Hc(29,ao,1,0,"ng-template",17),c.Ub(),c.Vb(30,"p-table",18),c.dc("onLazyLoad",function(e){return o.cargarMasDatos(e)}),c.Hc(31,co,2,1,"ng-template",19),c.Hc(32,bo,2,1,"ng-template",20),c.Hc(33,go,2,1,"ng-template",21),c.Hc(34,ho,6,0,"ng-template",22),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e&&(c.Cb(4),c.oc("mostrarIrAtras",!0)("titulo","Gesti\xf3n de articulos de inventario")("descripcion","Gestione todos sus articulos de su inventario")("iconoUrl","inventario.svg"),c.Cb(7),c.oc("ngModel",o.textoBusqueda),c.Cb(19),c.oc("columns",o.columnasPrimeTable)("frozenColumns",o.columnasPrimeTable)("value",o.articulosInventario)("lazy",!0)("paginator",!0)("rows",o.filas)("totalRecords",o.totalArticulosInventario))},directives:[w.a,k.a,g.c,g.g,h.a,d.b,d.l,d.o,B.a,M.a,O.a,A.f,N.a,H.b,R.a,t.k,t.l,w.b],styles:[""]}),e})()},{path:":idArticuloInventario/mantenimiento",component:ee,canActivate:[i("nhMU").a]}];let vo=(()=>{class e{}return e.\u0275mod=c.Nb({type:e}),e.\u0275inj=c.Mb({factory:function(o){return new(o||e)},imports:[[r.e.forChild(po)],r.e]}),e})();var fo=i("vbRb");i("sspE"),i("kg3b"),i("LYaL"),i("qeg7");let Vo=(()=>{class e{}return e.\u0275mod=c.Nb({type:e}),e.\u0275inj=c.Mb({factory:function(o){return new(o||e)},imports:[[t.c,vo,...fo.a]]}),e})()}}]);